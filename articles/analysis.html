<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="description" content="metalearners">
<title>Generalizing the meta-learner in stacks • metalearners</title>
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- bootstrap-toc --><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@v1.0.1/dist/bootstrap-toc.min.js" integrity="sha256-4veVQbu7//Lk5TSmc7YV48MxtMy98e26cf5MrgZYnwo=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.11/clipboard.min.js" integrity="sha512-7O5pXpc0oCRrxk8RUfDYFgn0nO1t+jLuIOQdOMRp4APB7uZ4vSjspzp5y6YDtDs4VzUSTbWzBFZ/LKJhnyFOKw==" crossorigin="anonymous" referrerpolicy="no-referrer"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Generalizing the meta-learner in stacks">
<meta property="og:description" content="metalearners">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-light navbar-expand-lg bg-light" data-bs-theme="light"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">metalearners</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.0.1</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
<li class="active nav-item">
  <a class="nav-link" href="../articles/analysis.html">Analysis</a>
</li>
      </ul>
<form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off">
</form>

      <ul class="navbar-nav">
<li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/simonpcouch/metalearners/" aria-label="github">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>

    
  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="" class="logo" alt=""><h1>Generalizing the meta-learner in stacks</h1>
                        <h4 data-toc-skip class="author">Simon P. Couch
and Max Kuhn</h4>
            
      
      <small class="dont-index">Source: <a href="https://github.com/simonpcouch/metalearners/blob/HEAD/vignettes/articles/analysis.Rmd" class="external-link"><code>vignettes/articles/analysis.Rmd</code></a></small>
      <div class="d-none name"><code>analysis.Rmd</code></div>
    </div>

    
    
<p>The <a href="https://github.com/tidymodels/stacks" class="external-link">stacks</a> package
was <a href="https://www.tidyverse.org/blog/2020/11/stacks-0-1-0/" class="external-link">first
released</a> to CRAN in late 2020, enabling model stacking (or
“ensembling”) with tidymodels. Model stacking is a machine learning
technique that involves combining predictions from several statistical
models into one, and has been shown to improve predictive performance in
a variety of areas. The model that combines predictions, called the
“meta-learner,” is most often a regularized linear model. We recently
conducted a set of experiments to explore the possibility of enabling
stacking with other meta-learners.</p>
<p>This analysis uses functions from the tidyverse meta-package as well
as the gt, monochromeR, and metalearners packages.</p>
<div class="section level2">
<h2 id="overview-of-stacking">Overview of stacking<a class="anchor" aria-label="anchor" href="#overview-of-stacking"></a>
</h2>
<p>At the highest level, ensembles are formed from <em>model
definitions</em>. In this package, model definitions are an instance of
a minimal <a href="https://workflows.tidymodels.org/" class="external-link">workflow</a>,
containing a <em>model specification</em> (as defined in the <a href="https://parsnip.tidymodels.org/" class="external-link">parsnip</a> package) and,
optionally, a <em>preprocessor</em> (as defined in the <a href="https://recipes.tidymodels.org/" class="external-link">recipes</a> package). Model
definitions specify the form of candidate ensemble members.</p>
<p><img src="https://github.com/tidymodels/stacks/blob/f95369f45353d09a8c81fd3592ebcf8bc8232d6b/man/figures/model_defs.png?raw=true" fig-alt="A diagram representing “model definitions,” which specify the form of candidate ensemble members. Three colored boxes represent three different model types; a K-nearest neighbors model (in salmon), a linear regression model (in yellow), and a support vector machine model (in green)."></p>
<p>To be used in the same ensemble, each of these model definitions must
share the same <em>resample</em>. This <a href="https://rsample.tidymodels.org/" class="external-link">rsample</a> <code>rset</code>
object, when paired with the model definitions, can be used to generate
the tuning/fitting results objects for the candidate <em>ensemble
members</em> with tune.</p>
<p><img src="https://github.com/tidymodels/stacks/blob/f95369f45353d09a8c81fd3592ebcf8bc8232d6b/man/figures/candidates.png?raw=true" fig-alt="A diagram representing “candidate members” generated from each model definition. Four salmon-colored boxes labeled “KNN” represent K-nearest neighbors models trained on the resamples with differing hyperparameters. Similarly, the linear regression model generates one candidate member, and the support vector machine model generates six."></p>
<p>Candidate members first come together in a <code>data_stack</code>
object through the <code>add_candidates()</code> function. Principally,
data stacks are just <a href="https://tibble.tidyverse.org/" class="external-link">tibble</a>s, where the first column
gives the true outcome in the assessment set (the portion of the
training set used for model validation), and the remaining columns give
the predictions from each candidate ensemble member. They also bring
along a few extra attributes to keep track of model definitions.</p>
<p><img src="https://github.com/tidymodels/stacks/blob/f95369f45353d09a8c81fd3592ebcf8bc8232d6b/man/figures/data_stack.png?raw=true" fig-alt="A diagram representing a “data stack,” a specific kind of data frame. Colored “columns” depict, in white, the true value of the outcome variable in the validation set, followed by four columns (in salmon) representing the predictions from the K-nearest neighbors model, one column (in tan) representing the linear regression model, and six (in green) representing the support vector machine model."></p>
<p>Then, the data stack can be evaluated using
<code>blend_predictions()</code> to determine to how best to combine the
outputs from each of the candidate members using a regularized linear
regression model. In the stacking literature, this process is commonly
called <em>metalearning</em>.</p>
<p>The outputs of each member are likely highly correlated. Thus,
depending on the degree of regularization you choose, the coefficients
for the inputs of (possibly) many of the members will zero out—their
predictions will have no influence on the final output, and those terms
will thus be thrown out.</p>
<p><img src="https://github.com/tidymodels/stacks/blob/f95369f45353d09a8c81fd3592ebcf8bc8232d6b/man/figures/coefs.png?raw=true" fig-alt="A diagram representing “stacking coefficients,” the coefficients of the linear model combining each of the candidate member predictions to generate the ensemble’s ultimate prediction. Boxes for each of the candidate members are placed besides each other, filled in with color if the coefficient for the associated candidate member is nonzero."></p>
<p>These stacking coefficients determine which candidate ensemble
members will become ensemble members. Candidates with non-zero stacking
coefficients are then fitted on the whole training set, altogether
making up a <code>model_stack</code> object.</p>
<p><img src="https://github.com/tidymodels/stacks/blob/f95369f45353d09a8c81fd3592ebcf8bc8232d6b/man/figures/class_model_stack.png?raw=true" fig-alt="A diagram representing the “model stack” class, which collates the stacking coefficients and members (candidate members with nonzero stacking coefficients that are trained on the full training set). The representation of the stacking coefficients is as before, where the members (shown next to their associated stacking coefficients) are colored-in pentagons. Model stacks are a list subclass."></p>
<p>This model stack object, outputted from <code>fit_members()</code>,
is ready to predict on new data! The trained ensemble members are often
referred to as <em>base models</em> in the stacking literature.</p>
</div>
<div class="section level2">
<h2 id="generalizing-the-meta-learner">Generalizing the meta-learner<a class="anchor" aria-label="anchor" href="#generalizing-the-meta-learner"></a>
</h2>
<p>Since we released the package, the question we’ve received by far
more often than any other is whether we’ll introduce support for
stacking models with a meta-learner other than a regularized linear
regression model. Because of this, we asked tidymodels users whether
this feature is one you’d be interested in as part of the <a href="https://colorado.posit.co/rsc/tidymodels-priorities-2024/" class="external-link">2024
tidymodels user survey</a>, and got a resounding “yes.”</p>
<p>There are a few good reasons we initially only implemented stacking
with regularized linear models:</p>
<ul>
<li><p>The original paper proposing stacking does so only with a
regularized linear model.</p></li>
<li><p>Regularized linear models with the elastic net handle correlated
predictors quite well. By definition, the predictors supplied to the
meta-learner are highly correlated (or at least ought to be), since
those predictors are <em>predictions</em> of the same outcome from a
bunch of different statistical models.</p></li>
<li><p>Regularized linear models with the elastic net “zero out” some
predictors (i.e. shrink their associated coefficients to zero). In the
case of stacking, zeroing out predictors is really advantageous, since
models whose predictors are associated with nonzero coefficients—or
“members”—must be then trained on the full training set. Training
members (with <code>fit_members()</code>) is one of the three highly
computationally intensive steps in model stacking, and reducing the
number of members that need to be trained can greatly reduce the amount
of time required to create a model stack.</p></li>
<li><p>Simon was a tired student when he wrote the first versions of the
package.</p></li>
</ul>
<p>Because of these reasons (maybe omitting the last), regularized
linear models are by far the most popular meta-learner used in the
literature.</p>
<p>That said, there are all sorts of methods out there to handle
correlated data and disinclude certain predictors in statistical models.
In considering whether to implement this functionality, we decided to
conduct <a href="https://github.com/simonpcouch/metalearner" class="external-link">a series of
experiments</a> to benchmark the predictive performance and time-to-fit
for a variety of meta-learners.</p>
</div>
<div class="section level2">
<h2 id="the-experiments">The experiments<a class="anchor" aria-label="anchor" href="#the-experiments"></a>
</h2>
<p>To decide whether to implement a generalized meta-learner in stacks,
we conducted a series of experiments to answer the question:</p>
<blockquote>
<p>Do some meta-learners reliably fit more quickly or provide more
performant predictions than a regularized linear model across
contexts?</p>
</blockquote>
<p>We first built a rough proof-of-concept for an interface to a
generalized meta-learner in stacks. That user interface definitely would
have had some improvements to make, but gave us a good-enough tool to
experiment with. Then, we collected a set of 8 machine learning tasks
that varied in their outcome type (numeric or factor), dataset size, and
correlation structure. Then, for each of those tasks, we:</p>
<ol style="list-style-type: decimal">
<li><p>Interactively developed models to best predict the outcome, which
would form the candidate members.</p></li>
<li><p>Fitted <em>all</em> of the candidate members. Note that this
breaks with the usual flow of model stacking with stacks; to reduce
duplicated member fits, we decided to first fit all of the candidate
members and then “drop them in place” when they were needed. (In the
language of the package, we did
<code>stacks() %&gt;% add_candidates(...) %&gt;% fit_members() %&gt;% blend_predictions()</code>
rather than the usual
<code>stacks() %&gt;% add_candidates(...) %&gt;% blend_predictions() %&gt;% fit_members()</code>.)</p></li>
<li><p>Resampled each of a set of 12 proposed meta-learners that we
hypothesized would perform well, benchmarking timings as we did
so.</p></li>
<li><p>Generated predictions from each of those resampled meta-learners
and evaluated those predictions with metrics.</p></li>
<li><p>Finally, we collated all of those metrics and benchmarks, as well
as related metadata, into the dataset <code>metalearners</code>, which
is now available as a data package on CRAN.</p></li>
</ol>
<p>Here are those 12 proposed meta-learners I mentioned in Step 3):</p>
<div id="mwlefoodfi" style="padding-left:0px;padding-right:0px;padding-top:10px;padding-bottom:10px;overflow-x:auto;overflow-y:auto;width:auto;height:auto;">
<style>#mwlefoodfi table {
  font-family: system-ui, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Noto Color Emoji';
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

#mwlefoodfi thead, #mwlefoodfi tbody, #mwlefoodfi tfoot, #mwlefoodfi tr, #mwlefoodfi td, #mwlefoodfi th {
  border-style: none;
}

#mwlefoodfi p {
  margin: 0;
  padding: 0;
}

#mwlefoodfi .gt_table {
  display: table;
  border-collapse: collapse;
  line-height: normal;
  margin-left: auto;
  margin-right: auto;
  color: #333333;
  font-size: 16px;
  font-weight: normal;
  font-style: normal;
  background-color: #FFFFFF;
  width: auto;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #A8A8A8;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #A8A8A8;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
}

#mwlefoodfi .gt_caption {
  padding-top: 4px;
  padding-bottom: 4px;
}

#mwlefoodfi .gt_title {
  color: #333333;
  font-size: 125%;
  font-weight: initial;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-color: #FFFFFF;
  border-bottom-width: 0;
}

#mwlefoodfi .gt_subtitle {
  color: #333333;
  font-size: 85%;
  font-weight: initial;
  padding-top: 3px;
  padding-bottom: 5px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-color: #FFFFFF;
  border-top-width: 0;
}

#mwlefoodfi .gt_heading {
  background-color: #FFFFFF;
  text-align: center;
  border-bottom-color: #FFFFFF;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#mwlefoodfi .gt_bottom_border {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#mwlefoodfi .gt_col_headings {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#mwlefoodfi .gt_col_heading {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 6px;
  padding-left: 5px;
  padding-right: 5px;
  overflow-x: hidden;
}

#mwlefoodfi .gt_column_spanner_outer {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  padding-top: 0;
  padding-bottom: 0;
  padding-left: 4px;
  padding-right: 4px;
}

#mwlefoodfi .gt_column_spanner_outer:first-child {
  padding-left: 0;
}

#mwlefoodfi .gt_column_spanner_outer:last-child {
  padding-right: 0;
}

#mwlefoodfi .gt_column_spanner {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 5px;
  overflow-x: hidden;
  display: inline-block;
  width: 100%;
}

#mwlefoodfi .gt_spanner_row {
  border-bottom-style: hidden;
}

#mwlefoodfi .gt_group_heading {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  text-align: left;
}

#mwlefoodfi .gt_empty_group_heading {
  padding: 0.5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: middle;
}

#mwlefoodfi .gt_from_md > :first-child {
  margin-top: 0;
}

#mwlefoodfi .gt_from_md > :last-child {
  margin-bottom: 0;
}

#mwlefoodfi .gt_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  margin: 10px;
  border-top-style: solid;
  border-top-width: 1px;
  border-top-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  overflow-x: hidden;
}

#mwlefoodfi .gt_stub {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
}

#mwlefoodfi .gt_stub_row_group {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
  vertical-align: top;
}

#mwlefoodfi .gt_row_group_first td {
  border-top-width: 2px;
}

#mwlefoodfi .gt_row_group_first th {
  border-top-width: 2px;
}

#mwlefoodfi .gt_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#mwlefoodfi .gt_first_summary_row {
  border-top-style: solid;
  border-top-color: #D3D3D3;
}

#mwlefoodfi .gt_first_summary_row.thick {
  border-top-width: 2px;
}

#mwlefoodfi .gt_last_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#mwlefoodfi .gt_grand_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#mwlefoodfi .gt_first_grand_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: double;
  border-top-width: 6px;
  border-top-color: #D3D3D3;
}

#mwlefoodfi .gt_last_grand_summary_row_top {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: double;
  border-bottom-width: 6px;
  border-bottom-color: #D3D3D3;
}

#mwlefoodfi .gt_striped {
  background-color: rgba(128, 128, 128, 0.05);
}

#mwlefoodfi .gt_table_body {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#mwlefoodfi .gt_footnotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#mwlefoodfi .gt_footnote {
  margin: 0px;
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#mwlefoodfi .gt_sourcenotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#mwlefoodfi .gt_sourcenote {
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#mwlefoodfi .gt_left {
  text-align: left;
}

#mwlefoodfi .gt_center {
  text-align: center;
}

#mwlefoodfi .gt_right {
  text-align: right;
  font-variant-numeric: tabular-nums;
}

#mwlefoodfi .gt_font_normal {
  font-weight: normal;
}

#mwlefoodfi .gt_font_bold {
  font-weight: bold;
}

#mwlefoodfi .gt_font_italic {
  font-style: italic;
}

#mwlefoodfi .gt_super {
  font-size: 65%;
}

#mwlefoodfi .gt_footnote_marks {
  font-size: 75%;
  vertical-align: 0.4em;
  position: initial;
}

#mwlefoodfi .gt_asterisk {
  font-size: 100%;
  vertical-align: 0;
}

#mwlefoodfi .gt_indent_1 {
  text-indent: 5px;
}

#mwlefoodfi .gt_indent_2 {
  text-indent: 10px;
}

#mwlefoodfi .gt_indent_3 {
  text-indent: 15px;
}

#mwlefoodfi .gt_indent_4 {
  text-indent: 20px;
}

#mwlefoodfi .gt_indent_5 {
  text-indent: 25px;
}
</style>
<table class="table gt_table" data-quarto-disable-processing="false" data-quarto-bootstrap="false">
<thead><tr class="gt_col_headings">
<th class="gt_col_heading gt_columns_bottom_border gt_left" rowspan="1" colspan="1" scope="col" id="Meta-learner">Meta-learner</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_left" rowspan="1" colspan="1" scope="col" id="Recipe">Recipe</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_left" rowspan="1" colspan="1" scope="col" id="Specification">Specification</th>
    </tr></thead>
<tbody class="gt_table_body">
<tr>
<td headers="Meta-learner" class="gt_row gt_left">minimal_glmnet</td>
<td headers="Recipe" class="gt_row gt_left">Minimal</td>
<td headers="Specification" class="gt_row gt_left">GLM (glmnet)</td>
</tr>
<tr>
<td headers="Meta-learner" class="gt_row gt_left">minimal_lgb</td>
<td headers="Recipe" class="gt_row gt_left">Minimal</td>
<td headers="Specification" class="gt_row gt_left">Boosted Tree (lightgbm)</td>
</tr>
<tr>
<td headers="Meta-learner" class="gt_row gt_left">minimal_xgb</td>
<td headers="Recipe" class="gt_row gt_left">Minimal</td>
<td headers="Specification" class="gt_row gt_left">Boosted Tree (xgboost)</td>
</tr>
<tr>
<td headers="Meta-learner" class="gt_row gt_left">normalize_bt</td>
<td headers="Recipe" class="gt_row gt_left">Center + Scale</td>
<td headers="Specification" class="gt_row gt_left">Bagged Tree (rpart)</td>
</tr>
<tr>
<td headers="Meta-learner" class="gt_row gt_left">normalize_nn</td>
<td headers="Recipe" class="gt_row gt_left">Center + Scale</td>
<td headers="Specification" class="gt_row gt_left">Neural Network (nnet)</td>
</tr>
<tr>
<td headers="Meta-learner" class="gt_row gt_left">normalize_svm</td>
<td headers="Recipe" class="gt_row gt_left">Center + Scale</td>
<td headers="Specification" class="gt_row gt_left">Support Vector Machine (kernlab)</td>
</tr>
<tr>
<td headers="Meta-learner" class="gt_row gt_left">pca_bt</td>
<td headers="Recipe" class="gt_row gt_left">Principal Component Analysis</td>
<td headers="Specification" class="gt_row gt_left">Bagged Tree (rpart)</td>
</tr>
<tr>
<td headers="Meta-learner" class="gt_row gt_left">pca_nn</td>
<td headers="Recipe" class="gt_row gt_left">Principal Component Analysis</td>
<td headers="Specification" class="gt_row gt_left">Neural Network (nnet)</td>
</tr>
<tr>
<td headers="Meta-learner" class="gt_row gt_left">pca_svm</td>
<td headers="Recipe" class="gt_row gt_left">Principal Component Analysis</td>
<td headers="Specification" class="gt_row gt_left">Support Vector Machine (kernlab)</td>
</tr>
<tr>
<td headers="Meta-learner" class="gt_row gt_left">renormalize_nn</td>
<td headers="Recipe" class="gt_row gt_left">C+S, PCA, C+S</td>
<td headers="Specification" class="gt_row gt_left">Neural Network (nnet)</td>
</tr>
<tr>
<td headers="Meta-learner" class="gt_row gt_left">renormalize_svm</td>
<td headers="Recipe" class="gt_row gt_left">C+S, PCA, C+S</td>
<td headers="Specification" class="gt_row gt_left">Support Vector Machine (kernlab)</td>
</tr>
</tbody>
</table>
</div>
<p>The exact definitions of each the above recipes and model
specifications can be found in the <a href="https://github.com/simonpcouch/metalearner/tree/dbf91c00506de6bae9a7dd07155a8b781af38c51/meta_learners" class="external-link">experiment
repository</a>.</p>
<p>The resulting dataset containing experiment metadata, performance
metrics, and speed benchmarks is available in the metalearners data
package:</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/simonpcouch/metalearners" class="external-link">metalearners</a></span><span class="op">)</span></span>
<span></span>
<span><span class="va">metalearners</span></span></code></pre></div>
<pre><code><span><span class="co">## <span style="color: #949494;"># A tibble: 217 × 8</span></span></span>
<span><span class="co">##    task   meta_learner   recipe  specification elapsed metric estimate estimator</span></span>
<span><span class="co">##    <span style="color: #949494; font-style: italic;">&lt;fct&gt;</span>  <span style="color: #949494; font-style: italic;">&lt;fct&gt;</span>          <span style="color: #949494; font-style: italic;">&lt;fct&gt;</span>   <span style="color: #949494; font-style: italic;">&lt;fct&gt;</span>           <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>     <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>    </span></span>
<span><span class="co">## <span style="color: #BCBCBC;"> 1</span> barley minimal_glmnet Minimal GLM (glmnet)    0.628 rsq       0.977 standard </span></span>
<span><span class="co">## <span style="color: #BCBCBC;"> 2</span> barley minimal_glmnet Minimal GLM (glmnet)    0.628 rmse      2.29  standard </span></span>
<span><span class="co">## <span style="color: #BCBCBC;"> 3</span> barley minimal_lgb    Minimal Boosted Tree… 194.    rsq       0.966 standard </span></span>
<span><span class="co">## <span style="color: #BCBCBC;"> 4</span> barley minimal_lgb    Minimal Boosted Tree… 194.    rmse      3.13  standard </span></span>
<span><span class="co">## <span style="color: #BCBCBC;"> 5</span> barley minimal_xgb    Minimal Boosted Tree… 263.    rsq       0.973 standard </span></span>
<span><span class="co">## <span style="color: #BCBCBC;"> 6</span> barley minimal_xgb    Minimal Boosted Tree… 263.    rmse      2.53  standard </span></span>
<span><span class="co">## <span style="color: #BCBCBC;"> 7</span> barley normalize_bt   Center… Bagged Tree …  25.7   rsq       0.970 standard </span></span>
<span><span class="co">## <span style="color: #BCBCBC;"> 8</span> barley normalize_bt   Center… Bagged Tree …  25.7   rmse      2.63  standard </span></span>
<span><span class="co">## <span style="color: #BCBCBC;"> 9</span> barley normalize_nn   Center… Neural Netwo… 407.    rsq       0.859 standard </span></span>
<span><span class="co">## <span style="color: #BCBCBC;">10</span> barley normalize_nn   Center… Neural Netwo… 407.    rmse      5.75  standard </span></span>
<span><span class="co">## <span style="color: #949494;"># ℹ 207 more rows</span></span></span></code></pre>
<p>Each row in the resulting dataset represents a unique combination of
task, proposed meta-learner (as <code>recipe</code> +
<code>specification</code>), and performance metric. The meta-learner
with <code>recipe == "basic"</code> and <code>spec == "glmnet"</code> is
the existing, regularized linear model in stacks.</p>
</div>
<div class="section level2">
<h2 id="results">Results<a class="anchor" aria-label="anchor" href="#results"></a>
</h2>
<p>Revisiting our original research question, we’re interested in the
distributions of 1) elapsed time-to-fit benchmarks and 2) performance
metrics for each proposed meta-learner. The first one is a bit easier to
analyze, so we’ll start there.</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://tidyverse.tidyverse.org" class="external-link">tidyverse</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://gt.rstudio.com" class="external-link">gt</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/cararthompson/monochromeR" class="external-link">monochromeR</a></span><span class="op">)</span></span></code></pre></div>
<div class="section level3">
<h3 id="elapsed-time">Elapsed time<a class="anchor" aria-label="anchor" href="#elapsed-time"></a>
</h3>
<p>While there are multiple performance metrics for each unique
combination of task and meta-learner, there is only one fit time. This
makes</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">metalearners_times</span> <span class="op">&lt;-</span> </span>
<span>  <span class="va">metalearners</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/slice.html" class="external-link">slice_head</a></span><span class="op">(</span>n <span class="op">=</span> <span class="fl">1</span>, by <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="va">task</span>, <span class="va">recipe</span>, <span class="va">specification</span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span><span class="va">metalearners_times</span></span></code></pre></div>
<pre><code><span><span class="co">## <span style="color: #949494;"># A tibble: 87 × 8</span></span></span>
<span><span class="co">##    task   meta_learner   recipe  specification elapsed metric estimate estimator</span></span>
<span><span class="co">##    <span style="color: #949494; font-style: italic;">&lt;fct&gt;</span>  <span style="color: #949494; font-style: italic;">&lt;fct&gt;</span>          <span style="color: #949494; font-style: italic;">&lt;fct&gt;</span>   <span style="color: #949494; font-style: italic;">&lt;fct&gt;</span>           <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>     <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>    </span></span>
<span><span class="co">## <span style="color: #BCBCBC;"> 1</span> barley minimal_glmnet Minimal GLM (glmnet)    0.628 rsq       0.977 standard </span></span>
<span><span class="co">## <span style="color: #BCBCBC;"> 2</span> barley minimal_lgb    Minimal Boosted Tree… 194.    rsq       0.966 standard </span></span>
<span><span class="co">## <span style="color: #BCBCBC;"> 3</span> barley minimal_xgb    Minimal Boosted Tree… 263.    rsq       0.973 standard </span></span>
<span><span class="co">## <span style="color: #BCBCBC;"> 4</span> barley normalize_bt   Center… Bagged Tree …  25.7   rsq       0.970 standard </span></span>
<span><span class="co">## <span style="color: #BCBCBC;"> 5</span> barley normalize_nn   Center… Neural Netwo… 407.    rsq       0.859 standard </span></span>
<span><span class="co">## <span style="color: #BCBCBC;"> 6</span> barley normalize_svm  Center… Support Vect…   6.14  rsq      <span style="color: #BB0000;">NA</span>     standard </span></span>
<span><span class="co">## <span style="color: #BCBCBC;"> 7</span> barley pca_bt         Princi… Bagged Tree …  20.4   rsq       0.970 standard </span></span>
<span><span class="co">## <span style="color: #BCBCBC;"> 8</span> barley pca_nn         Princi… Neural Netwo… 199.    rsq       0.859 standard </span></span>
<span><span class="co">## <span style="color: #BCBCBC;"> 9</span> barley pca_svm        Princi… Support Vect…   6.05  rsq      <span style="color: #BB0000;">NA</span>     standard </span></span>
<span><span class="co">## <span style="color: #BCBCBC;">10</span> barley renormalize_nn C+S, P… Neural Netwo… 210.    rsq       0.865 standard </span></span>
<span><span class="co">## <span style="color: #949494;"># ℹ 77 more rows</span></span></span></code></pre>
<p>Perhaps best expressed as a table:</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">metalearners_times</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/summarise.html" class="external-link">summarize</a></span><span class="op">(</span></span>
<span>    Minimum <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/Extremes.html" class="external-link">min</a></span><span class="op">(</span><span class="va">elapsed</span><span class="op">)</span>,</span>
<span>    `1st Quartile` <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/stats/quantile.html" class="external-link">quantile</a></span><span class="op">(</span><span class="va">elapsed</span>, <span class="fl">.25</span><span class="op">)</span>,</span>
<span>    Median <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/stats/median.html" class="external-link">median</a></span><span class="op">(</span><span class="va">elapsed</span><span class="op">)</span>,</span>
<span>    Mean <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/mean.html" class="external-link">mean</a></span><span class="op">(</span><span class="va">elapsed</span><span class="op">)</span>, </span>
<span>    `3rd Quartile` <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/stats/quantile.html" class="external-link">quantile</a></span><span class="op">(</span><span class="va">elapsed</span>, <span class="fl">.75</span><span class="op">)</span>,</span>
<span>    Maximum <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/Extremes.html" class="external-link">max</a></span><span class="op">(</span><span class="va">elapsed</span><span class="op">)</span>, </span>
<span>    .by <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="va">recipe</span>, <span class="va">specification</span><span class="op">)</span></span>
<span>  <span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://gt.rstudio.com/reference/gt.html" class="external-link">gt</a></span><span class="op">(</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://gt.rstudio.com/reference/fmt_number.html" class="external-link">fmt_number</a></span><span class="op">(</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://gt.rstudio.com/reference/cols_label_with.html" class="external-link">cols_label_with</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"recipe"</span>, <span class="st">"specification"</span><span class="op">)</span>, <span class="kw">function</span><span class="op">(</span><span class="va">x</span><span class="op">)</span> <span class="op">{</span><span class="fu"><a href="https://gt.rstudio.com/reference/md.html" class="external-link">md</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste0</a></span><span class="op">(</span><span class="st">"`"</span>, <span class="va">x</span>, <span class="st">"`"</span><span class="op">)</span><span class="op">)</span><span class="op">}</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://gt.rstudio.com/reference/data_color.html" class="external-link">data_color</a></span><span class="op">(</span></span>
<span>    columns <span class="op">=</span> <span class="va">Minimum</span><span class="op">:</span><span class="va">Maximum</span>,</span>
<span>    method <span class="op">=</span> <span class="st">"quantile"</span>, </span>
<span>    palette <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/pkg/monochromeR/man/generate_palette.html" class="external-link">generate_palette</a></span><span class="op">(</span><span class="st">"#bfa382"</span>, <span class="st">"go_lighter"</span>, <span class="fl">20</span><span class="op">)</span>,</span>
<span>    reverse <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>    quantiles <span class="op">=</span> <span class="fl">20</span></span>
<span>  <span class="op">)</span></span></code></pre></div>
<div id="eexombwkke" style="padding-left:0px;padding-right:0px;padding-top:10px;padding-bottom:10px;overflow-x:auto;overflow-y:auto;width:auto;height:auto;">
<style>#eexombwkke table {
  font-family: system-ui, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Noto Color Emoji';
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

#eexombwkke thead, #eexombwkke tbody, #eexombwkke tfoot, #eexombwkke tr, #eexombwkke td, #eexombwkke th {
  border-style: none;
}

#eexombwkke p {
  margin: 0;
  padding: 0;
}

#eexombwkke .gt_table {
  display: table;
  border-collapse: collapse;
  line-height: normal;
  margin-left: auto;
  margin-right: auto;
  color: #333333;
  font-size: 16px;
  font-weight: normal;
  font-style: normal;
  background-color: #FFFFFF;
  width: auto;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #A8A8A8;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #A8A8A8;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
}

#eexombwkke .gt_caption {
  padding-top: 4px;
  padding-bottom: 4px;
}

#eexombwkke .gt_title {
  color: #333333;
  font-size: 125%;
  font-weight: initial;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-color: #FFFFFF;
  border-bottom-width: 0;
}

#eexombwkke .gt_subtitle {
  color: #333333;
  font-size: 85%;
  font-weight: initial;
  padding-top: 3px;
  padding-bottom: 5px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-color: #FFFFFF;
  border-top-width: 0;
}

#eexombwkke .gt_heading {
  background-color: #FFFFFF;
  text-align: center;
  border-bottom-color: #FFFFFF;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#eexombwkke .gt_bottom_border {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#eexombwkke .gt_col_headings {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#eexombwkke .gt_col_heading {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 6px;
  padding-left: 5px;
  padding-right: 5px;
  overflow-x: hidden;
}

#eexombwkke .gt_column_spanner_outer {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  padding-top: 0;
  padding-bottom: 0;
  padding-left: 4px;
  padding-right: 4px;
}

#eexombwkke .gt_column_spanner_outer:first-child {
  padding-left: 0;
}

#eexombwkke .gt_column_spanner_outer:last-child {
  padding-right: 0;
}

#eexombwkke .gt_column_spanner {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 5px;
  overflow-x: hidden;
  display: inline-block;
  width: 100%;
}

#eexombwkke .gt_spanner_row {
  border-bottom-style: hidden;
}

#eexombwkke .gt_group_heading {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  text-align: left;
}

#eexombwkke .gt_empty_group_heading {
  padding: 0.5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: middle;
}

#eexombwkke .gt_from_md > :first-child {
  margin-top: 0;
}

#eexombwkke .gt_from_md > :last-child {
  margin-bottom: 0;
}

#eexombwkke .gt_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  margin: 10px;
  border-top-style: solid;
  border-top-width: 1px;
  border-top-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  overflow-x: hidden;
}

#eexombwkke .gt_stub {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
}

#eexombwkke .gt_stub_row_group {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
  vertical-align: top;
}

#eexombwkke .gt_row_group_first td {
  border-top-width: 2px;
}

#eexombwkke .gt_row_group_first th {
  border-top-width: 2px;
}

#eexombwkke .gt_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#eexombwkke .gt_first_summary_row {
  border-top-style: solid;
  border-top-color: #D3D3D3;
}

#eexombwkke .gt_first_summary_row.thick {
  border-top-width: 2px;
}

#eexombwkke .gt_last_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#eexombwkke .gt_grand_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#eexombwkke .gt_first_grand_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: double;
  border-top-width: 6px;
  border-top-color: #D3D3D3;
}

#eexombwkke .gt_last_grand_summary_row_top {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: double;
  border-bottom-width: 6px;
  border-bottom-color: #D3D3D3;
}

#eexombwkke .gt_striped {
  background-color: rgba(128, 128, 128, 0.05);
}

#eexombwkke .gt_table_body {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#eexombwkke .gt_footnotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#eexombwkke .gt_footnote {
  margin: 0px;
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#eexombwkke .gt_sourcenotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#eexombwkke .gt_sourcenote {
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#eexombwkke .gt_left {
  text-align: left;
}

#eexombwkke .gt_center {
  text-align: center;
}

#eexombwkke .gt_right {
  text-align: right;
  font-variant-numeric: tabular-nums;
}

#eexombwkke .gt_font_normal {
  font-weight: normal;
}

#eexombwkke .gt_font_bold {
  font-weight: bold;
}

#eexombwkke .gt_font_italic {
  font-style: italic;
}

#eexombwkke .gt_super {
  font-size: 65%;
}

#eexombwkke .gt_footnote_marks {
  font-size: 75%;
  vertical-align: 0.4em;
  position: initial;
}

#eexombwkke .gt_asterisk {
  font-size: 100%;
  vertical-align: 0;
}

#eexombwkke .gt_indent_1 {
  text-indent: 5px;
}

#eexombwkke .gt_indent_2 {
  text-indent: 10px;
}

#eexombwkke .gt_indent_3 {
  text-indent: 15px;
}

#eexombwkke .gt_indent_4 {
  text-indent: 20px;
}

#eexombwkke .gt_indent_5 {
  text-indent: 25px;
}
</style>
<table class="table gt_table" data-quarto-disable-processing="false" data-quarto-bootstrap="false">
<thead><tr class="gt_col_headings">
<th class="gt_col_heading gt_columns_bottom_border gt_center" rowspan="1" colspan="1" scope="col" id="&lt;code&gt;recipe&lt;/code&gt;"><code>recipe</code></th>
      <th class="gt_col_heading gt_columns_bottom_border gt_center" rowspan="1" colspan="1" scope="col" id="&lt;code&gt;specification&lt;/code&gt;"><code>specification</code></th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col" id="Minimum">Minimum</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col" id="1st Quartile">1st Quartile</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col" id="Median">Median</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col" id="Mean">Mean</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col" id="3rd Quartile">3rd Quartile</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col" id="Maximum">Maximum</th>
    </tr></thead>
<tbody class="gt_table_body">
<tr>
<td headers="recipe" class="gt_row gt_center">Minimal</td>
<td headers="specification" class="gt_row gt_center">GLM (glmnet)</td>
<td headers="Minimum" class="gt_row gt_right" style="background-color: #F2ECE6; color: #000000;">0.63</td>
<td headers="1st Quartile" class="gt_row gt_right" style="background-color: #F2ECE6; color: #000000;">2.11</td>
<td headers="Median" class="gt_row gt_right" style="background-color: #F2ECE6; color: #000000;">7.48</td>
<td headers="Mean" class="gt_row gt_right" style="background-color: #F2ECE6; color: #000000;">115.01</td>
<td headers="3rd Quartile" class="gt_row gt_right" style="background-color: #F2ECE6; color: #000000;">175.25</td>
<td headers="Maximum" class="gt_row gt_right" style="background-color: #F2ECE6; color: #000000;">483.55</td>
</tr>
<tr>
<td headers="recipe" class="gt_row gt_center">Minimal</td>
<td headers="specification" class="gt_row gt_center">Boosted Tree (lightgbm)</td>
<td headers="Minimum" class="gt_row gt_right" style="background-color: #BFA382; color: #000000;">187.15</td>
<td headers="1st Quartile" class="gt_row gt_right" style="background-color: #C7AE91; color: #000000;">265.72</td>
<td headers="Median" class="gt_row gt_right" style="background-color: #DCCDBB; color: #000000;">335.63</td>
<td headers="Mean" class="gt_row gt_right" style="background-color: #E2D5C6; color: #000000;">847.29</td>
<td headers="3rd Quartile" class="gt_row gt_right" style="background-color: #E2D5C6; color: #000000;">701.73</td>
<td headers="Maximum" class="gt_row gt_right" style="background-color: #DCCDBB; color: #000000;">3,422.46</td>
</tr>
<tr>
<td headers="recipe" class="gt_row gt_center">Minimal</td>
<td headers="specification" class="gt_row gt_center">Boosted Tree (xgboost)</td>
<td headers="Minimum" class="gt_row gt_right" style="background-color: #C1A687; color: #000000;">179.34</td>
<td headers="1st Quartile" class="gt_row gt_right" style="background-color: #BFA382; color: #000000;">538.77</td>
<td headers="Median" class="gt_row gt_right" style="background-color: #BFA382; color: #000000;">1,573.17</td>
<td headers="Mean" class="gt_row gt_right" style="background-color: #CCB69C; color: #000000;">3,429.60</td>
<td headers="3rd Quartile" class="gt_row gt_right" style="background-color: #BFA382; color: #000000;">3,143.42</td>
<td headers="Maximum" class="gt_row gt_right" style="background-color: #CCB69C; color: #000000;">16,083.65</td>
</tr>
<tr>
<td headers="recipe" class="gt_row gt_center">Center + Scale</td>
<td headers="specification" class="gt_row gt_center">Bagged Tree (rpart)</td>
<td headers="Minimum" class="gt_row gt_right" style="background-color: #D7C5B1; color: #000000;">22.14</td>
<td headers="1st Quartile" class="gt_row gt_right" style="background-color: #E2D5C6; color: #000000;">55.09</td>
<td headers="Median" class="gt_row gt_right" style="background-color: #E2D5C6; color: #000000;">177.96</td>
<td headers="Mean" class="gt_row gt_right" style="background-color: #E7DDD0; color: #000000;">340.00</td>
<td headers="3rd Quartile" class="gt_row gt_right" style="background-color: #E7DDD0; color: #000000;">380.60</td>
<td headers="Maximum" class="gt_row gt_right" style="background-color: #E7DDD0; color: #000000;">1,453.50</td>
</tr>
<tr>
<td headers="recipe" class="gt_row gt_center">Center + Scale</td>
<td headers="specification" class="gt_row gt_center">Neural Network (nnet)</td>
<td headers="Minimum" class="gt_row gt_right" style="background-color: #C7AE91; color: #000000;">126.29</td>
<td headers="1st Quartile" class="gt_row gt_right" style="background-color: #C1A687; color: #000000;">338.09</td>
<td headers="Median" class="gt_row gt_right" style="background-color: #CCB69C; color: #000000;">504.33</td>
<td headers="Mean" class="gt_row gt_right" style="background-color: #D7C5B1; color: #000000;">1,049.00</td>
<td headers="3rd Quartile" class="gt_row gt_right" style="background-color: #D4C1AC; color: #000000;">1,510.52</td>
<td headers="Maximum" class="gt_row gt_right" style="background-color: #D7C5B1; color: #000000;">3,505.70</td>
</tr>
<tr>
<td headers="recipe" class="gt_row gt_center">Center + Scale</td>
<td headers="specification" class="gt_row gt_center">Support Vector Machine (kernlab)</td>
<td headers="Minimum" class="gt_row gt_right" style="background-color: #E7DDD0; color: #000000;">6.14</td>
<td headers="1st Quartile" class="gt_row gt_right" style="background-color: #E7DDD0; color: #000000;">46.33</td>
<td headers="Median" class="gt_row gt_right" style="background-color: #E7DDD0; color: #000000;">169.30</td>
<td headers="Mean" class="gt_row gt_right" style="background-color: #C7AE91; color: #000000;">6,250.18</td>
<td headers="3rd Quartile" class="gt_row gt_right" style="background-color: #CCB69C; color: #000000;">1,776.67</td>
<td headers="Maximum" class="gt_row gt_right" style="background-color: #C7AE91; color: #000000;">39,929.83</td>
</tr>
<tr>
<td headers="recipe" class="gt_row gt_center">Principal Component Analysis</td>
<td headers="specification" class="gt_row gt_center">Bagged Tree (rpart)</td>
<td headers="Minimum" class="gt_row gt_right" style="background-color: #DCCDBB; color: #000000;">20.45</td>
<td headers="1st Quartile" class="gt_row gt_right" style="background-color: #ECE4DB; color: #000000;">45.33</td>
<td headers="Median" class="gt_row gt_right" style="background-color: #ECE4DB; color: #000000;">154.58</td>
<td headers="Mean" class="gt_row gt_right" style="background-color: #ECE4DB; color: #000000;">331.30</td>
<td headers="3rd Quartile" class="gt_row gt_right" style="background-color: #ECE4DB; color: #000000;">324.26</td>
<td headers="Maximum" class="gt_row gt_right" style="background-color: #ECE4DB; color: #000000;">1,396.82</td>
</tr>
<tr>
<td headers="recipe" class="gt_row gt_center">Principal Component Analysis</td>
<td headers="specification" class="gt_row gt_center">Neural Network (nnet)</td>
<td headers="Minimum" class="gt_row gt_right" style="background-color: #D4C1AC; color: #000000;">87.83</td>
<td headers="1st Quartile" class="gt_row gt_right" style="background-color: #D1BEA6; color: #000000;">179.33</td>
<td headers="Median" class="gt_row gt_right" style="background-color: #D7C5B1; color: #000000;">433.63</td>
<td headers="Mean" class="gt_row gt_right" style="background-color: #DCCDBB; color: #000000;">883.78</td>
<td headers="3rd Quartile" class="gt_row gt_right" style="background-color: #DCCDBB; color: #000000;">1,219.39</td>
<td headers="Maximum" class="gt_row gt_right" style="background-color: #E2D5C6; color: #000000;">3,078.81</td>
</tr>
<tr>
<td headers="recipe" class="gt_row gt_center">Principal Component Analysis</td>
<td headers="specification" class="gt_row gt_center">Support Vector Machine (kernlab)</td>
<td headers="Minimum" class="gt_row gt_right" style="background-color: #ECE4DB; color: #000000;">6.05</td>
<td headers="1st Quartile" class="gt_row gt_right" style="background-color: #DCCDBB; color: #000000;">56.36</td>
<td headers="Median" class="gt_row gt_right" style="background-color: #C7AE91; color: #000000;">518.92</td>
<td headers="Mean" class="gt_row gt_right" style="background-color: #C1A687; color: #000000;">7,957.18</td>
<td headers="3rd Quartile" class="gt_row gt_right" style="background-color: #C1A687; color: #000000;">2,000.94</td>
<td headers="Maximum" class="gt_row gt_right" style="background-color: #C1A687; color: #000000;">58,425.13</td>
</tr>
<tr>
<td headers="recipe" class="gt_row gt_center">C+S, PCA, C+S</td>
<td headers="specification" class="gt_row gt_center">Neural Network (nnet)</td>
<td headers="Minimum" class="gt_row gt_right" style="background-color: #CCB69C; color: #000000;">95.30</td>
<td headers="1st Quartile" class="gt_row gt_right" style="background-color: #CCB69C; color: #000000;">190.24</td>
<td headers="Median" class="gt_row gt_right" style="background-color: #D1BEA6; color: #000000;">494.98</td>
<td headers="Mean" class="gt_row gt_right" style="background-color: #D4C1AC; color: #000000;">1,072.67</td>
<td headers="3rd Quartile" class="gt_row gt_right" style="background-color: #D7C5B1; color: #000000;">1,338.66</td>
<td headers="Maximum" class="gt_row gt_right" style="background-color: #D4C1AC; color: #000000;">4,155.51</td>
</tr>
<tr>
<td headers="recipe" class="gt_row gt_center">C+S, PCA, C+S</td>
<td headers="specification" class="gt_row gt_center">Support Vector Machine (kernlab)</td>
<td headers="Minimum" class="gt_row gt_right" style="background-color: #E2D5C6; color: #000000;">6.35</td>
<td headers="1st Quartile" class="gt_row gt_right" style="background-color: #D7C5B1; color: #000000;">56.93</td>
<td headers="Median" class="gt_row gt_right" style="background-color: #C1A687; color: #000000;">705.16</td>
<td headers="Mean" class="gt_row gt_right" style="background-color: #BFA382; color: #000000;">7,970.93</td>
<td headers="3rd Quartile" class="gt_row gt_right" style="background-color: #C7AE91; color: #000000;">1,812.77</td>
<td headers="Maximum" class="gt_row gt_right" style="background-color: #BFA382; color: #000000;">58,557.48</td>
</tr>
</tbody>
</table>
</div>
<p>The fastest model fits are shaded in the lightest reds, and nearly
all of them belong to glmnet.</p>
<p>Maybe the most telling statistic: does another meta-learner
<em>ever</em> resample more quickly than glmnet?</p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">metalearners_times</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/summarise.html" class="external-link">summarize</a></span><span class="op">(</span></span>
<span>    glmnet_is_fastest <span class="op">=</span> </span>
<span>      <span class="fu"><a href="https://rdrr.io/r/base/all.html" class="external-link">all</a></span><span class="op">(</span><span class="va">elapsed</span><span class="op">[</span><span class="va">specification</span> <span class="op">==</span> <span class="st">"GLM (glmnet)"</span><span class="op">]</span> <span class="op">&lt;</span> </span>
<span>          <span class="va">elapsed</span><span class="op">[</span><span class="va">specification</span> <span class="op">!=</span> <span class="st">"GLM (glmnet)"</span><span class="op">]</span><span class="op">)</span>,</span>
<span>    .by <span class="op">=</span> <span class="va">task</span></span>
<span>  <span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## <span style="color: #949494;"># A tibble: 8 × 2</span></span></span>
<span><span class="co">##   task   glmnet_is_fastest</span></span>
<span><span class="co">##   <span style="color: #949494; font-style: italic;">&lt;fct&gt;</span>  <span style="color: #949494; font-style: italic;">&lt;lgl&gt;</span>            </span></span>
<span><span class="co">## <span style="color: #BCBCBC;">1</span> barley TRUE             </span></span>
<span><span class="co">## <span style="color: #BCBCBC;">2</span> caret  TRUE             </span></span>
<span><span class="co">## <span style="color: #BCBCBC;">3</span> conc   TRUE             </span></span>
<span><span class="co">## <span style="color: #BCBCBC;">4</span> hpc    FALSE            </span></span>
<span><span class="co">## <span style="color: #BCBCBC;">5</span> kc     TRUE             </span></span>
<span><span class="co">## <span style="color: #BCBCBC;">6</span> nhl    TRUE             </span></span>
<span><span class="co">## <span style="color: #BCBCBC;">7</span> rare   TRUE             </span></span>
<span><span class="co">## <span style="color: #BCBCBC;">8</span> wind   TRUE</span></span></code></pre>
<p>Almost batting 1000.</p>
<p>The conclusion here definitely seems to be that, with a data
structure like a data stack, a regularized linear model like glmnet is
the quickest-fitting among the models we tried. However, if other
meta-learners we’ve proposed deliver consistently improved predictive
performance, we still ought to consider implementing that generalized
meta-learner.</p>
</div>
<div class="section level3">
<h3 id="performance-metrics">Performance metrics<a class="anchor" aria-label="anchor" href="#performance-metrics"></a>
</h3>
<p>The summarization of results is a bit more complicated when it comes
to performance metrics, as there are multiple metrics (representing
different interpretations of predictive performance) for each
experiment.</p>
<p>Let’s start with the classification tasks, which all use a common set
of metrics. First, some transformation:</p>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">metalearners_metrics</span> <span class="op">&lt;-</span></span>
<span>  <span class="va">metalearners</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/summarise.html" class="external-link">summarize</a></span><span class="op">(</span></span>
<span>    mean <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/mean.html" class="external-link">mean</a></span><span class="op">(</span><span class="va">estimate</span>, na.rm <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span>,</span>
<span>    sd <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/stats/sd.html" class="external-link">sd</a></span><span class="op">(</span><span class="va">estimate</span>, na.rm <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span>,</span>
<span>    .by <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="va">recipe</span>, <span class="va">specification</span>, <span class="va">metric</span><span class="op">)</span></span>
<span>  <span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://tidyr.tidyverse.org/reference/pivot_wider.html" class="external-link">pivot_wider</a></span><span class="op">(</span>id_cols <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="va">recipe</span>, <span class="va">specification</span><span class="op">)</span>, names_from <span class="op">=</span> <span class="va">metric</span>, values_from <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="va">mean</span>, <span class="va">sd</span><span class="op">)</span>, names_vary <span class="op">=</span> <span class="st">"slowest"</span><span class="op">)</span></span></code></pre></div>
<p>Then, making use of some formatting magic from the gt package:</p>
<div class="sourceCode" id="cb10"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://gt.rstudio.com/reference/gt.html" class="external-link">gt</a></span><span class="op">(</span><span class="va">metalearners_metrics</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://gt.rstudio.com/reference/fmt_number.html" class="external-link">fmt_number</a></span><span class="op">(</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://gt.rstudio.com/reference/tab_spanner.html" class="external-link">tab_spanner</a></span><span class="op">(</span><span class="fu"><a href="https://gt.rstudio.com/reference/md.html" class="external-link">md</a></span><span class="op">(</span><span class="st">"`rsq()`"</span><span class="op">)</span>, <span class="fu"><a href="https://tidyselect.r-lib.org/reference/starts_with.html" class="external-link">contains</a></span><span class="op">(</span><span class="st">"rsq"</span><span class="op">)</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://gt.rstudio.com/reference/tab_spanner.html" class="external-link">tab_spanner</a></span><span class="op">(</span><span class="fu"><a href="https://gt.rstudio.com/reference/md.html" class="external-link">md</a></span><span class="op">(</span><span class="st">"`rmse()`"</span><span class="op">)</span>, <span class="fu"><a href="https://tidyselect.r-lib.org/reference/starts_with.html" class="external-link">contains</a></span><span class="op">(</span><span class="st">"rmse"</span><span class="op">)</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://gt.rstudio.com/reference/tab_spanner.html" class="external-link">tab_spanner</a></span><span class="op">(</span><span class="fu"><a href="https://gt.rstudio.com/reference/md.html" class="external-link">md</a></span><span class="op">(</span><span class="st">"`accuracy()`"</span><span class="op">)</span>, <span class="fu"><a href="https://tidyselect.r-lib.org/reference/starts_with.html" class="external-link">contains</a></span><span class="op">(</span><span class="st">"accuracy"</span><span class="op">)</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://gt.rstudio.com/reference/tab_spanner.html" class="external-link">tab_spanner</a></span><span class="op">(</span><span class="fu"><a href="https://gt.rstudio.com/reference/md.html" class="external-link">md</a></span><span class="op">(</span><span class="st">"`brier_class()`"</span><span class="op">)</span>, <span class="fu"><a href="https://tidyselect.r-lib.org/reference/starts_with.html" class="external-link">contains</a></span><span class="op">(</span><span class="st">"brier_class"</span><span class="op">)</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://gt.rstudio.com/reference/tab_spanner.html" class="external-link">tab_spanner</a></span><span class="op">(</span><span class="fu"><a href="https://gt.rstudio.com/reference/md.html" class="external-link">md</a></span><span class="op">(</span><span class="st">"`roc_auc()`"</span><span class="op">)</span>, <span class="fu"><a href="https://tidyselect.r-lib.org/reference/starts_with.html" class="external-link">contains</a></span><span class="op">(</span><span class="st">"roc_auc"</span><span class="op">)</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://gt.rstudio.com/reference/tab_spanner.html" class="external-link">tab_spanner</a></span><span class="op">(</span></span>
<span>    <span class="st">"Regression"</span>, </span>
<span>    spanners <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"`rsq()`"</span>, <span class="st">"`rmse()`"</span><span class="op">)</span></span>
<span>  <span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://gt.rstudio.com/reference/tab_spanner.html" class="external-link">tab_spanner</a></span><span class="op">(</span></span>
<span>    <span class="st">"Classification"</span>, </span>
<span>    spanners <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"`accuracy()`"</span>, <span class="st">"`brier_class()`"</span>, <span class="st">"`roc_auc()`"</span><span class="op">)</span></span>
<span>  <span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://gt.rstudio.com/reference/cols_label_with.html" class="external-link">cols_label_with</a></span><span class="op">(</span>fn <span class="op">=</span> <span class="kw">function</span><span class="op">(</span><span class="va">x</span><span class="op">)</span> <span class="op">{</span></span>
<span>    <span class="fu"><a href="https://rdrr.io/r/base/grep.html" class="external-link">gsub</a></span><span class="op">(</span><span class="st">"\\_accuracy|\\_brier\\_class|_roc\\_auc|\\_rsq|\\_rmse"</span>, <span class="st">""</span>, <span class="va">x</span><span class="op">)</span> </span>
<span>  <span class="op">}</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="co"># metrics where higher values mean better performance:</span></span>
<span>  <span class="fu"><a href="https://gt.rstudio.com/reference/data_color.html" class="external-link">data_color</a></span><span class="op">(</span></span>
<span>    <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"mean_rsq"</span>, <span class="st">"mean_accuracy"</span>, <span class="st">"mean_roc_auc"</span><span class="op">)</span>, </span>
<span>    method <span class="op">=</span> <span class="st">"numeric"</span>, </span>
<span>    palette <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/pkg/monochromeR/man/generate_palette.html" class="external-link">generate_palette</a></span><span class="op">(</span><span class="st">"#79b9aa"</span>, <span class="st">"go_lighter"</span>, <span class="fl">10</span><span class="op">)</span>,</span>
<span>    reverse <span class="op">=</span> <span class="cn">TRUE</span></span>
<span>  <span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="co"># metrics where lower values mean better performance</span></span>
<span>  <span class="fu"><a href="https://gt.rstudio.com/reference/data_color.html" class="external-link">data_color</a></span><span class="op">(</span></span>
<span>    <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"mean_rmse"</span>, <span class="st">"mean_brier_class"</span><span class="op">)</span>, </span>
<span>    method <span class="op">=</span> <span class="st">"numeric"</span>, </span>
<span>    palette <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/pkg/monochromeR/man/generate_palette.html" class="external-link">generate_palette</a></span><span class="op">(</span><span class="st">"#79b9aa"</span>, <span class="st">"go_lighter"</span>, <span class="fl">10</span><span class="op">)</span>,</span>
<span>    reverse <span class="op">=</span> <span class="cn">FALSE</span></span>
<span>  <span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://gt.rstudio.com/reference/data_color.html" class="external-link">data_color</a></span><span class="op">(</span></span>
<span>    <span class="fu"><a href="https://tidyselect.r-lib.org/reference/starts_with.html" class="external-link">contains</a></span><span class="op">(</span><span class="st">"sd"</span><span class="op">)</span>, </span>
<span>    method <span class="op">=</span> <span class="st">"numeric"</span>, </span>
<span>    palette <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/pkg/monochromeR/man/generate_palette.html" class="external-link">generate_palette</a></span><span class="op">(</span><span class="st">"#bfa382"</span>, <span class="st">"go_lighter"</span>, <span class="fl">10</span><span class="op">)</span>,</span>
<span>    reverse <span class="op">=</span> <span class="cn">TRUE</span></span>
<span>  <span class="op">)</span></span></code></pre></div>
<div id="dpbcyvkguf" style="padding-left:0px;padding-right:0px;padding-top:10px;padding-bottom:10px;overflow-x:auto;overflow-y:auto;width:auto;height:auto;">
<style>#dpbcyvkguf table {
  font-family: system-ui, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Noto Color Emoji';
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

#dpbcyvkguf thead, #dpbcyvkguf tbody, #dpbcyvkguf tfoot, #dpbcyvkguf tr, #dpbcyvkguf td, #dpbcyvkguf th {
  border-style: none;
}

#dpbcyvkguf p {
  margin: 0;
  padding: 0;
}

#dpbcyvkguf .gt_table {
  display: table;
  border-collapse: collapse;
  line-height: normal;
  margin-left: auto;
  margin-right: auto;
  color: #333333;
  font-size: 16px;
  font-weight: normal;
  font-style: normal;
  background-color: #FFFFFF;
  width: auto;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #A8A8A8;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #A8A8A8;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
}

#dpbcyvkguf .gt_caption {
  padding-top: 4px;
  padding-bottom: 4px;
}

#dpbcyvkguf .gt_title {
  color: #333333;
  font-size: 125%;
  font-weight: initial;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-color: #FFFFFF;
  border-bottom-width: 0;
}

#dpbcyvkguf .gt_subtitle {
  color: #333333;
  font-size: 85%;
  font-weight: initial;
  padding-top: 3px;
  padding-bottom: 5px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-color: #FFFFFF;
  border-top-width: 0;
}

#dpbcyvkguf .gt_heading {
  background-color: #FFFFFF;
  text-align: center;
  border-bottom-color: #FFFFFF;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#dpbcyvkguf .gt_bottom_border {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#dpbcyvkguf .gt_col_headings {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#dpbcyvkguf .gt_col_heading {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 6px;
  padding-left: 5px;
  padding-right: 5px;
  overflow-x: hidden;
}

#dpbcyvkguf .gt_column_spanner_outer {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  padding-top: 0;
  padding-bottom: 0;
  padding-left: 4px;
  padding-right: 4px;
}

#dpbcyvkguf .gt_column_spanner_outer:first-child {
  padding-left: 0;
}

#dpbcyvkguf .gt_column_spanner_outer:last-child {
  padding-right: 0;
}

#dpbcyvkguf .gt_column_spanner {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 5px;
  overflow-x: hidden;
  display: inline-block;
  width: 100%;
}

#dpbcyvkguf .gt_spanner_row {
  border-bottom-style: hidden;
}

#dpbcyvkguf .gt_group_heading {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  text-align: left;
}

#dpbcyvkguf .gt_empty_group_heading {
  padding: 0.5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: middle;
}

#dpbcyvkguf .gt_from_md > :first-child {
  margin-top: 0;
}

#dpbcyvkguf .gt_from_md > :last-child {
  margin-bottom: 0;
}

#dpbcyvkguf .gt_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  margin: 10px;
  border-top-style: solid;
  border-top-width: 1px;
  border-top-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  overflow-x: hidden;
}

#dpbcyvkguf .gt_stub {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
}

#dpbcyvkguf .gt_stub_row_group {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
  vertical-align: top;
}

#dpbcyvkguf .gt_row_group_first td {
  border-top-width: 2px;
}

#dpbcyvkguf .gt_row_group_first th {
  border-top-width: 2px;
}

#dpbcyvkguf .gt_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#dpbcyvkguf .gt_first_summary_row {
  border-top-style: solid;
  border-top-color: #D3D3D3;
}

#dpbcyvkguf .gt_first_summary_row.thick {
  border-top-width: 2px;
}

#dpbcyvkguf .gt_last_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#dpbcyvkguf .gt_grand_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#dpbcyvkguf .gt_first_grand_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: double;
  border-top-width: 6px;
  border-top-color: #D3D3D3;
}

#dpbcyvkguf .gt_last_grand_summary_row_top {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: double;
  border-bottom-width: 6px;
  border-bottom-color: #D3D3D3;
}

#dpbcyvkguf .gt_striped {
  background-color: rgba(128, 128, 128, 0.05);
}

#dpbcyvkguf .gt_table_body {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#dpbcyvkguf .gt_footnotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#dpbcyvkguf .gt_footnote {
  margin: 0px;
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#dpbcyvkguf .gt_sourcenotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#dpbcyvkguf .gt_sourcenote {
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#dpbcyvkguf .gt_left {
  text-align: left;
}

#dpbcyvkguf .gt_center {
  text-align: center;
}

#dpbcyvkguf .gt_right {
  text-align: right;
  font-variant-numeric: tabular-nums;
}

#dpbcyvkguf .gt_font_normal {
  font-weight: normal;
}

#dpbcyvkguf .gt_font_bold {
  font-weight: bold;
}

#dpbcyvkguf .gt_font_italic {
  font-style: italic;
}

#dpbcyvkguf .gt_super {
  font-size: 65%;
}

#dpbcyvkguf .gt_footnote_marks {
  font-size: 75%;
  vertical-align: 0.4em;
  position: initial;
}

#dpbcyvkguf .gt_asterisk {
  font-size: 100%;
  vertical-align: 0;
}

#dpbcyvkguf .gt_indent_1 {
  text-indent: 5px;
}

#dpbcyvkguf .gt_indent_2 {
  text-indent: 10px;
}

#dpbcyvkguf .gt_indent_3 {
  text-indent: 15px;
}

#dpbcyvkguf .gt_indent_4 {
  text-indent: 20px;
}

#dpbcyvkguf .gt_indent_5 {
  text-indent: 25px;
}
</style>
<table class="table gt_table" data-quarto-disable-processing="false" data-quarto-bootstrap="false">
<thead>
<tr class="gt_col_headings gt_spanner_row">
<th class="gt_center gt_columns_top_border gt_column_spanner_outer" rowspan="1" colspan="2" scope="colgroup" id></th>
      <th class="gt_center gt_columns_top_border gt_column_spanner_outer" rowspan="1" colspan="4" scope="colgroup" id="Regression">
        <span class="gt_column_spanner">Regression</span>
      </th>
      <th class="gt_center gt_columns_top_border gt_column_spanner_outer" rowspan="1" colspan="6" scope="colgroup" id="Classification">
        <span class="gt_column_spanner">Classification</span>
      </th>
    </tr>
<tr class="gt_col_headings gt_spanner_row">
<th class="gt_col_heading gt_columns_bottom_border gt_center" rowspan="2" colspan="1" scope="col" id="recipe">recipe</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_center" rowspan="2" colspan="1" scope="col" id="specification">specification</th>
      <th class="gt_center gt_columns_top_border gt_column_spanner_outer" rowspan="1" colspan="2" scope="colgroup" id="&lt;code&gt;rsq()&lt;/code&gt;">
        <span class="gt_column_spanner"><code>rsq()</code></span>
      </th>
      <th class="gt_center gt_columns_top_border gt_column_spanner_outer" rowspan="1" colspan="2" scope="colgroup" id="&lt;code&gt;rmse()&lt;/code&gt;">
        <span class="gt_column_spanner"><code>rmse()</code></span>
      </th>
      <th class="gt_center gt_columns_top_border gt_column_spanner_outer" rowspan="1" colspan="2" scope="colgroup" id="&lt;code&gt;accuracy()&lt;/code&gt;">
        <span class="gt_column_spanner"><code>accuracy()</code></span>
      </th>
      <th class="gt_center gt_columns_top_border gt_column_spanner_outer" rowspan="1" colspan="2" scope="colgroup" id="&lt;code&gt;brier_class()&lt;/code&gt;">
        <span class="gt_column_spanner"><code>brier_class()</code></span>
      </th>
      <th class="gt_center gt_columns_top_border gt_column_spanner_outer" rowspan="1" colspan="2" scope="colgroup" id="&lt;code&gt;roc_auc()&lt;/code&gt;">
        <span class="gt_column_spanner"><code>roc_auc()</code></span>
      </th>
    </tr>
<tr class="gt_col_headings">
<th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col" id="mean">mean</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col" id="sd">sd</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col" id="mean">mean</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col" id="sd">sd</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col" id="mean">mean</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col" id="sd">sd</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col" id="mean">mean</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col" id="sd">sd</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col" id="mean">mean</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col" id="sd">sd</th>
    </tr>
</thead>
<tbody class="gt_table_body">
<tr>
<td headers="recipe" class="gt_row gt_center">Minimal</td>
<td headers="specification" class="gt_row gt_center">GLM (glmnet)</td>
<td headers="mean_rsq" class="gt_row gt_right" style="background-color: #79B9AA; color: #000000;">0.95</td>
<td headers="sd_rsq" class="gt_row gt_right" style="background-color: #F2ECE6; color: #000000;">0.05</td>
<td headers="mean_rmse" class="gt_row gt_right" style="background-color: #7CBAAC; color: #000000;">3.29</td>
<td headers="sd_rmse" class="gt_row gt_right" style="background-color: #F2ECE6; color: #000000;">3.02</td>
<td headers="mean_accuracy" class="gt_row gt_right" style="background-color: #79B9AA; color: #000000;">0.87</td>
<td headers="sd_accuracy" class="gt_row gt_right" style="background-color: #F2ECE6; color: #000000;">0.10</td>
<td headers="mean_brier_class" class="gt_row gt_right" style="background-color: #D8EAE6; color: #000000;">0.26</td>
<td headers="sd_brier_class" class="gt_row gt_right" style="background-color: #BFA382; color: #000000;">0.34</td>
<td headers="mean_roc_auc" class="gt_row gt_right" style="background-color: #B3D8CF; color: #000000;">0.80</td>
<td headers="sd_roc_auc" class="gt_row gt_right" style="background-color: #D1BDA6; color: #000000;">0.27</td>
</tr>
<tr>
<td headers="recipe" class="gt_row gt_center">Minimal</td>
<td headers="specification" class="gt_row gt_center">Boosted Tree (lightgbm)</td>
<td headers="mean_rsq" class="gt_row gt_right" style="background-color: #97C8BD; color: #000000;">0.88</td>
<td headers="sd_rsq" class="gt_row gt_right" style="background-color: #E2D5C5; color: #000000;">0.15</td>
<td headers="mean_rmse" class="gt_row gt_right" style="background-color: #95C8BC; color: #000000;">5.12</td>
<td headers="sd_rmse" class="gt_row gt_right" style="background-color: #D8C8B4; color: #000000;">6.33</td>
<td headers="mean_accuracy" class="gt_row gt_right" style="background-color: #A8D1C8; color: #000000;">0.75</td>
<td headers="sd_accuracy" class="gt_row gt_right" style="background-color: #DDCEBD; color: #000000;">0.20</td>
<td headers="mean_brier_class" class="gt_row gt_right" style="background-color: #98C9BE; color: #000000;">0.15</td>
<td headers="sd_brier_class" class="gt_row gt_right" style="background-color: #EBE2D8; color: #000000;">0.11</td>
<td headers="mean_roc_auc" class="gt_row gt_right" style="background-color: #79B9AA; color: #000000;">0.92</td>
<td headers="sd_roc_auc" class="gt_row gt_right" style="background-color: #EFE8DF; color: #000000;">0.09</td>
</tr>
<tr>
<td headers="recipe" class="gt_row gt_center">Minimal</td>
<td headers="specification" class="gt_row gt_center">Boosted Tree (xgboost)</td>
<td headers="mean_rsq" class="gt_row gt_right" style="background-color: #89C2B5; color: #000000;">0.91</td>
<td headers="sd_rsq" class="gt_row gt_right" style="background-color: #EBE3D8; color: #000000;">0.09</td>
<td headers="mean_rmse" class="gt_row gt_right" style="background-color: #79B9AA; color: #000000;">3.10</td>
<td headers="sd_rmse" class="gt_row gt_right" style="background-color: #F2ECE5; color: #000000;">3.05</td>
<td headers="mean_accuracy" class="gt_row gt_right" style="background-color: #86C0B2; color: #000000;">0.84</td>
<td headers="sd_accuracy" class="gt_row gt_right" style="background-color: #E4D9CB; color: #000000;">0.17</td>
<td headers="mean_brier_class" class="gt_row gt_right" style="background-color: #7FBCAE; color: #000000;">0.11</td>
<td headers="sd_brier_class" class="gt_row gt_right" style="background-color: #EFE8DF; color: #000000;">0.09</td>
<td headers="mean_roc_auc" class="gt_row gt_right" style="background-color: #7BBAAB; color: #000000;">0.92</td>
<td headers="sd_roc_auc" class="gt_row gt_right" style="background-color: #EFE8E0; color: #000000;">0.08</td>
</tr>
<tr>
<td headers="recipe" class="gt_row gt_center">Center + Scale</td>
<td headers="specification" class="gt_row gt_center">Bagged Tree (rpart)</td>
<td headers="mean_rsq" class="gt_row gt_right" style="background-color: #BADBD3; color: #000000;">0.81</td>
<td headers="sd_rsq" class="gt_row gt_right" style="background-color: #CEB89F; color: #000000;">0.27</td>
<td headers="mean_rmse" class="gt_row gt_right" style="background-color: #82BEB0; color: #000000;">3.76</td>
<td headers="sd_rmse" class="gt_row gt_right" style="background-color: #EDE5DC; color: #000000;">3.66</td>
<td headers="mean_accuracy" class="gt_row gt_right" style="background-color: #97C8BD; color: #000000;">0.79</td>
<td headers="sd_accuracy" class="gt_row gt_right" style="background-color: #D4C2AD; color: #000000;">0.24</td>
<td headers="mean_brier_class" class="gt_row gt_right" style="background-color: #93C7BB; color: #000000;">0.15</td>
<td headers="sd_brier_class" class="gt_row gt_right" style="background-color: #F1EBE4; color: #000000;">0.07</td>
<td headers="mean_roc_auc" class="gt_row gt_right" style="background-color: #80BDAF; color: #000000;">0.91</td>
<td headers="sd_roc_auc" class="gt_row gt_right" style="background-color: #F2ECE6; color: #000000;">0.07</td>
</tr>
<tr>
<td headers="recipe" class="gt_row gt_center">Center + Scale</td>
<td headers="specification" class="gt_row gt_center">Neural Network (nnet)</td>
<td headers="mean_rsq" class="gt_row gt_right" style="background-color: #A9D2C9; color: #000000;">0.84</td>
<td headers="sd_rsq" class="gt_row gt_right" style="background-color: #E9DFD4; color: #000000;">0.10</td>
<td headers="mean_rmse" class="gt_row gt_right" style="background-color: #D7E9E5; color: #000000;">9.65</td>
<td headers="sd_rmse" class="gt_row gt_right" style="background-color: #BFA383; color: #000000;">9.72</td>
<td headers="mean_accuracy" class="gt_row gt_right" style="background-color: #E4F1EE; color: #000000;">0.59</td>
<td headers="sd_accuracy" class="gt_row gt_right" style="background-color: #BFA383; color: #000000;">0.35</td>
<td headers="mean_brier_class" class="gt_row gt_right" style="background-color: #E0EFEB; color: #000000;">0.27</td>
<td headers="sd_brier_class" class="gt_row gt_right" style="background-color: #EAE2D7; color: #000000;">0.11</td>
<td headers="mean_roc_auc" class="gt_row gt_right" style="background-color: #E0EFEB; color: #000000;">0.70</td>
<td headers="sd_roc_auc" class="gt_row gt_right" style="background-color: #BFA382; color: #000000;">0.38</td>
</tr>
<tr>
<td headers="recipe" class="gt_row gt_center">Center + Scale</td>
<td headers="specification" class="gt_row gt_center">Support Vector Machine (kernlab)</td>
<td headers="mean_rsq" class="gt_row gt_right" style="background-color: #83BEB0; color: #000000;">0.93</td>
<td headers="sd_rsq" class="gt_row gt_right" style="background-color: #F0E9E1; color: #000000;">0.06</td>
<td headers="mean_rmse" class="gt_row gt_right" style="background-color: #BEDDD6; color: #000000;">7.96</td>
<td headers="sd_rmse" class="gt_row gt_right" style="background-color: #CDB89E; color: #000000;">7.84</td>
<td headers="mean_accuracy" class="gt_row gt_right" style="background-color: #9ECCC2; color: #000000;">0.77</td>
<td headers="sd_accuracy" class="gt_row gt_right" style="background-color: #E1D5C5; color: #000000;">0.18</td>
<td headers="mean_brier_class" class="gt_row gt_right" style="background-color: #94C7BB; color: #000000;">0.15</td>
<td headers="sd_brier_class" class="gt_row gt_right" style="background-color: #EEE7DE; color: #000000;">0.09</td>
<td headers="mean_roc_auc" class="gt_row gt_right" style="background-color: #83BFB1; color: #000000;">0.90</td>
<td headers="sd_roc_auc" class="gt_row gt_right" style="background-color: #EFE8E0; color: #000000;">0.08</td>
</tr>
<tr>
<td headers="recipe" class="gt_row gt_center">Principal Component Analysis</td>
<td headers="specification" class="gt_row gt_center">Bagged Tree (rpart)</td>
<td headers="mean_rsq" class="gt_row gt_right" style="background-color: #BADBD3; color: #000000;">0.81</td>
<td headers="sd_rsq" class="gt_row gt_right" style="background-color: #CEB89F; color: #000000;">0.27</td>
<td headers="mean_rmse" class="gt_row gt_right" style="background-color: #82BEAF; color: #000000;">3.74</td>
<td headers="sd_rmse" class="gt_row gt_right" style="background-color: #EDE6DC; color: #000000;">3.62</td>
<td headers="mean_accuracy" class="gt_row gt_right" style="background-color: #97C8BD; color: #000000;">0.79</td>
<td headers="sd_accuracy" class="gt_row gt_right" style="background-color: #D4C2AD; color: #000000;">0.24</td>
<td headers="mean_brier_class" class="gt_row gt_right" style="background-color: #8AC2B5; color: #000000;">0.13</td>
<td headers="sd_brier_class" class="gt_row gt_right" style="background-color: #EDE5DC; color: #000000;">0.09</td>
<td headers="mean_roc_auc" class="gt_row gt_right" style="background-color: #7DBBAD; color: #000000;">0.91</td>
<td headers="sd_roc_auc" class="gt_row gt_right" style="background-color: #F0EAE3; color: #000000;">0.08</td>
</tr>
<tr>
<td headers="recipe" class="gt_row gt_center">Principal Component Analysis</td>
<td headers="specification" class="gt_row gt_center">Neural Network (nnet)</td>
<td headers="mean_rsq" class="gt_row gt_right" style="background-color: #A9D2C9; color: #000000;">0.84</td>
<td headers="sd_rsq" class="gt_row gt_right" style="background-color: #E9DFD4; color: #000000;">0.10</td>
<td headers="mean_rmse" class="gt_row gt_right" style="background-color: #D7E9E5; color: #000000;">9.65</td>
<td headers="sd_rmse" class="gt_row gt_right" style="background-color: #BFA383; color: #000000;">9.72</td>
<td headers="mean_accuracy" class="gt_row gt_right" style="background-color: #E4F1EE; color: #000000;">0.59</td>
<td headers="sd_accuracy" class="gt_row gt_right" style="background-color: #BFA382; color: #000000;">0.35</td>
<td headers="mean_brier_class" class="gt_row gt_right" style="background-color: #E4F1EE; color: #000000;">0.28</td>
<td headers="sd_brier_class" class="gt_row gt_right" style="background-color: #E8DED2; color: #000000;">0.12</td>
<td headers="mean_roc_auc" class="gt_row gt_right" style="background-color: #C1DFD8; color: #000000;">0.77</td>
<td headers="sd_roc_auc" class="gt_row gt_right" style="background-color: #D4C1AB; color: #000000;">0.25</td>
</tr>
<tr>
<td headers="recipe" class="gt_row gt_center">Principal Component Analysis</td>
<td headers="specification" class="gt_row gt_center">Support Vector Machine (kernlab)</td>
<td headers="mean_rsq" class="gt_row gt_right" style="background-color: #E4F1EE; color: #000000;">0.72</td>
<td headers="sd_rsq" class="gt_row gt_right" style="background-color: #BFA382; color: #000000;">0.37</td>
<td headers="mean_rmse" class="gt_row gt_right" style="background-color: #E4F1EE; color: #000000;">10.58</td>
<td headers="sd_rmse" class="gt_row gt_right" style="background-color: #CAB297; color: #000000;">8.32</td>
<td headers="mean_accuracy" class="gt_row gt_right" style="background-color: #83BEB0; color: #000000;">0.85</td>
<td headers="sd_accuracy" class="gt_row gt_right" style="background-color: #EDE5DC; color: #000000;">0.12</td>
<td headers="mean_brier_class" class="gt_row gt_right" style="background-color: #79B9AA; color: #000000;">0.10</td>
<td headers="sd_brier_class" class="gt_row gt_right" style="background-color: #F2ECE6; color: #000000;">0.07</td>
<td headers="mean_roc_auc" class="gt_row gt_right" style="background-color: #7DBBAD; color: #000000;">0.91</td>
<td headers="sd_roc_auc" class="gt_row gt_right" style="background-color: #EEE7DF; color: #000000;">0.09</td>
</tr>
<tr>
<td headers="recipe" class="gt_row gt_center">C+S, PCA, C+S</td>
<td headers="specification" class="gt_row gt_center">Neural Network (nnet)</td>
<td headers="mean_rsq" class="gt_row gt_right" style="background-color: #B5D8CF; color: #000000;">0.82</td>
<td headers="sd_rsq" class="gt_row gt_right" style="background-color: #E1D4C4; color: #000000;">0.15</td>
<td headers="mean_rmse" class="gt_row gt_right" style="background-color: #D9EBE7; color: #000000;">9.82</td>
<td headers="sd_rmse" class="gt_row gt_right" style="background-color: #BFA382; color: #000000;">9.76</td>
<td headers="mean_accuracy" class="gt_row gt_right" style="background-color: #A5CFC6; color: #000000;">0.75</td>
<td headers="sd_accuracy" class="gt_row gt_right" style="background-color: #D2BFA8; color: #000000;">0.26</td>
<td headers="mean_brier_class" class="gt_row gt_right" style="background-color: #C5E1DA; color: #000000;">0.23</td>
<td headers="sd_brier_class" class="gt_row gt_right" style="background-color: #EFE8E0; color: #000000;">0.09</td>
<td headers="mean_roc_auc" class="gt_row gt_right" style="background-color: #E4F1EE; color: #000000;">0.69</td>
<td headers="sd_roc_auc" class="gt_row gt_right" style="background-color: #C8B094; color: #000000;">0.32</td>
</tr>
<tr>
<td headers="recipe" class="gt_row gt_center">C+S, PCA, C+S</td>
<td headers="specification" class="gt_row gt_center">Support Vector Machine (kernlab)</td>
<td headers="mean_rsq" class="gt_row gt_right" style="background-color: #E4F1EE; color: #000000;">0.72</td>
<td headers="sd_rsq" class="gt_row gt_right" style="background-color: #BFA382; color: #000000;">0.37</td>
<td headers="mean_rmse" class="gt_row gt_right" style="background-color: #E4F1EE; color: #000000;">10.58</td>
<td headers="sd_rmse" class="gt_row gt_right" style="background-color: #CAB297; color: #000000;">8.32</td>
<td headers="mean_accuracy" class="gt_row gt_right" style="background-color: #83BEB0; color: #000000;">0.85</td>
<td headers="sd_accuracy" class="gt_row gt_right" style="background-color: #EDE5DC; color: #000000;">0.12</td>
<td headers="mean_brier_class" class="gt_row gt_right" style="background-color: #79B9AA; color: #000000;">0.10</td>
<td headers="sd_brier_class" class="gt_row gt_right" style="background-color: #F2ECE6; color: #000000;">0.07</td>
<td headers="mean_roc_auc" class="gt_row gt_right" style="background-color: #7DBBAD; color: #000000;">0.91</td>
<td headers="sd_roc_auc" class="gt_row gt_right" style="background-color: #EEE7DF; color: #000000;">0.09</td>
</tr>
</tbody>
</table>
</div>
<p>In the above table, darker green metric values indicate better
average performance, and darker red standard deviations indicate more
variation in the metric value from task to task.</p>
<p>At least as far as these classification metrics go, there’s not a
clear winner here, though the meta-learners making use of support vector
machines and boosted trees seem to do well. As for regression, glmnet
and xgboost seem like winners; their <span class="math inline">\(R^2\)</span> and RMSE values are about as good as
it gets, and the variation of those performance estimates across tasks
varies the least.</p>
</div>
</div>
  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p>Developed by Simon Couch, Max Kuhn, Posit Software, PBC.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.9.</p>
</div>

    </footer>
</div>

  

  

  </body>
</html>
